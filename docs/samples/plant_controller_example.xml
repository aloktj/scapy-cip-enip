<cip>
  <identity
    name="Plant Controller"
    vendor="Acme Automation"
    product_code="0x1234"
    revision="5.2"
    serial_number="PC-2024-042"
  />
  <assemblies>
    <assembly alias="ProcessInputs" dir="in" instanceId="0x64" size="32">
      <description>Discrete and analog signals collected from the field</description>
      <members>
        <member>
          <dint id="LineStatusWord" offset="0" description="Bit-packed machine states" />
        </member>
        <member name="LineSpeed">
          <real id="LineSpeedValue" offset="4" description="Current conveyor speed (m/min)" />
        </member>
        <member>
          <uint id="UpstreamPressure" offset="8" description="Pressure sensor reading" />
        </member>
        <member>
          <bool id="EStopLatched" offset="10" description="Emergency stop circuit state" />
        </member>
        <member>
          <udint id="ProductionCounter" offset="12" description="Completed units" />
        </member>
        <member name="OEE">
          <real id="OEEPercentage" offset="16" description="Overall equipment effectiveness" />
        </member>
        <member>
          <usint id="QualityScore" offset="20" description="Inline vision inspection score" />
        </member>
        <member>
          <string id="ActiveRecipe" offset="21" size="16" description="Recipe identifier currently running" />
        </member>
      </members>
    </assembly>
    <assembly alias="ProcessOutputs" dir="out" instanceId="0x65" size="28">
      <description>Commands and setpoints sent to actuators</description>
      <members>
        <member>
          <dint id="CommandWord" offset="0" description="Bit-packed control commands" />
        </member>
        <member>
          <real id="TargetSpeed" offset="4" description="Desired conveyor speed" />
        </member>
        <member>
          <real id="HeaterSetpoint" offset="8" description="Process temperature" />
        </member>
        <member>
          <uint id="PressureSetpoint" offset="12" description="Hydraulic pressure" />
        </member>
        <member>
          <bool id="MaintenanceBypass" offset="14" description="Bypass interlocks for maintenance" />
        </member>
        <member name="BatchControl">
          <dint id="BatchSize" offset="16" description="Requested batch size" />
        </member>
        <member>
          <real id="MixingDuration" offset="20" description="Mixing time in seconds" />
        </member>
        <member>
          <usint id="AlarmAckMask" offset="24" description="Bit mask of acknowledged alarms" />
        </member>
      </members>
    </assembly>
    <assembly alias="Diagnostics" dir="in" instanceId="0x66" size="24">
      <description>Health monitoring and diagnostics payload</description>
      <members>
        <member>
          <udint id="Timestamp" offset="0" description="Controller timestamp" />
        </member>
        <member>
          <real id="CpuLoad" offset="4" description="Controller CPU utilization" />
        </member>
        <member>
          <usint id="Temperature" offset="8" description="Internal enclosure temperature" />
        </member>
        <member>
          <usint id="VoltageStatus" offset="9" description="Power supply state" />
        </member>
        <member>
          <byte id="NetworkHealth" offset="10" description="Encoded network health flags" />
        </member>
        <member>
          <string id="LastFault" offset="11" size="12" description="Last recorded fault code" />
        </member>
      </members>
    </assembly>
    <assembly alias="Configuration" dir="config" instanceId="0x6F" size="20">
      <description>Static configuration parameters pushed on startup</description>
      <members>
        <member>
          <dint id="LineIdentifier" offset="0" description="Production line identifier" />
        </member>
        <member>
          <string id="Facility" offset="4" size="8" description="Plant facility code" />
        </member>
        <member>
          <string id="OperatorShift" offset="12" size="4" description="Shift schedule" />
        </member>
        <member name="Versioning">
          <usint id="VersionMajor" offset="16" />
          <usint id="VersionMinor" offset="17" />
          <usint id="VersionPatch" offset="18" />
        </member>
      </members>
    </assembly>
  </assemblies>
</cip>
